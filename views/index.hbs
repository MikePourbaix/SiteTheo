{{!-- video --}}
<section class="video-index">
    <video id="bgVideo" autoplay muted playsinline></video>
</section>

{{!-- logo-slogan --}}
<section class="logo-slogan-section">
    <div class="logo-slogan">
        <img src="photos/logoL&F.png" alt="Logo" class="reveal logo">
        <p class="reveal slogan">Investir avec sérénité, construire avec confiance.</p>
    </div>
</section>

{{!-- services --}}
<section class="services-section">
    <div class="services-container">
        <h2 class="section-title reveal">Nos Services</h2>
        <div class="services-list">
            <a href="/services" class="service reveal">
                <div class="service-content">
                    <h3>Conseil en investissement et stratégie financière</h3>
                    <p>Élaboration de plans personnalisés pour particuliers et entreprises.</p>
                </div>
            </a>
            <a href="/services" class="service reveal">
                <div class="service-content">
                    <h3>Gestion de portefeuille</h3>
                    <p>Accompagnement complet dans la structuration, la diversification et
                        l’optimisation de portefeuilles d’actifs.</p>
                </div>
            </a>
            <a href="/services" class="service reveal">
                <div class="service-content">
                    <h3>Investissement boursier</h3>
                    <p>Éducation financière pour comprendre les mécanismes boursiers.</p>
                </div>
            </a>
            <a href="/services" class="service reveal">
                <div class="service-content">
                    <h3>Solutions fiscales et optimisation</h3>
                    <p>Stratégies pour réduire la charge fiscale en toute légalité.</p>
                </div>
            </a>
            <a href="/services" class="service reveal">
                <div class="service-content">
                    <h3>Immobilier et investissements alternatifs</h3>
                    <p>Études de rentabilité et accompagnement dans des placements diversifiés.</p>
                </div>
            </a>
            <a href="/services" class="service reveal">
                <div class="service-content">
                    <h3>Accompagnement des PME et entrepreneurs</h3>
                    <p>Conseils pour structurer la trésorerie et préparer des levées de fonds.</p>
                </div>
            </a>
        </div>
    </div>
</section>


{{!-- bourses --}}
<section class="markets-section">
    <h2 class="section-title">Les marchés en direct</h2>

    <div class="markets-wrapper">
        <button class="scroll-btn left" id="scroll-left">&#10094;</button>

        <div class="markets-row" id="markets-row">
            <div class="market-card">
                <h3>CAC 40</h3>
                <div id="chart_cac40"></div>
            </div>
            <div class="market-card">
                <h3>Dow Jones</h3>
                <div id="chart_dji"></div>
            </div>
            <div class="market-card">
                <h3>Nasdaq</h3>
                <div id="chart_nasdaq"></div>
            </div>
            <div class="market-card">
                <h3>S&P 500</h3>
                <div id="chart_spx"></div>
            </div>
            <div class="market-card">
                <h3>DAX (Allemagne)</h3>
                <div id="chart_dax"></div>
            </div>
            <div class="market-card">
                <h3>FTSE 100 (UK)</h3>
                <div id="chart_ftse"></div>
            </div>

            <div class="market-card">
                <h3>Nikkei 225 (Japon)</h3>
                <div id="chart_nikkei"></div>
            </div>

            <div class="market-card">
                <h3>Hang Seng (Hong Kong)</h3>
                <div id="chart_hsi"></div>
            </div>
        </div>

        <button class="scroll-btn right" id="scroll-right">&#10095;</button>
    </div>
</section>


{{!-- temoignages --}}
<section class="testimonials-section">
    <div class="testimonials-container">
        <h2 class="section-title">Ils nous font confiance</h2>

        <div class="testimonials-row" id="row1">
            <div class="testimonial">"Grâce à leur expertise, j'ai doublé mes rendements en un an." – Sophie M.</div>
            <div class="testimonial">"Un accompagnement clair et rassurant du début à la fin." – Marc D.</div>
            <div class="testimonial">"Je recommande vivement pour toute gestion patrimoniale sérieuse." – Claire L.
            </div>
            <div class="testimonial">"Leur équipe m’a aidé à sécuriser mes investissements immobiliers." – Julien P.
            </div>
        </div>

        <div class="testimonials-row" id="row2">
            <div class="testimonial">"Un service personnalisé qui correspond parfaitement à mes besoins." – Émilie R.
            </div>
            <div class="testimonial">"Professionnels et toujours disponibles pour répondre à mes questions." – Thomas G.
            </div>
            <div class="testimonial">"Je me sens en confiance avec leur suivi régulier et transparent." – Nadia F.</div>
            <div class="testimonial">"Des conseils pertinents qui m’ont permis d’optimiser mes placements." – Laurent H.
            </div>
        </div>
    </div>
</section>


{{!-- newsletter --}}
<section>

</section>




<script> // JavaScript pour gérer les vidéos
    const videos = [
        "/videos/video-index.mp4",
        "/videos/video-index2.mp4"
    ];

    const videoEl = document.getElementById("bgVideo");
    let index = 0;

    function playVideo(i) {
        videoEl.src = videos[i];
        videoEl.play();
    }

    videoEl.addEventListener("ended", () => {
        index = (index + 1) % videos.length;
        playVideo(index);
    });

    playVideo(index);
</script>


<script> // JavaScript pour le scroll auto
    document.addEventListener('DOMContentLoaded', () => {
        let userHasScrolled = false;

        window.addEventListener("scroll", () => {
            if (window.scrollY > 50) {
                userHasScrolled = true;
            }
        });

        const SCROLL_DELAY_MS = 5000;
        setTimeout(() => {
            if (!userHasScrolled) {
                window.scrollTo({
                    top: window.innerHeight * 0.8,
                    behavior: "smooth"
                });
            }
        }, SCROLL_DELAY_MS);
    });

</script>


<script> // JavaScript pour les animations logo-slogan au scroll
    document.addEventListener("DOMContentLoaded", () => {
        const reveals = document.querySelectorAll(".reveal");

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add("visible");
                } else {
                    entry.target.classList.remove("visible");
                }
            });
        }, { threshold: 0.2 });

        reveals.forEach(el => observer.observe(el));
    });
</script>


<script> // JavaScript pour les animations services au scroll et effets services
    document.addEventListener("DOMContentLoaded", () => {
        const reveals = document.querySelectorAll(".reveal");

        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        entry.target.classList.add("visible");
                    }, index * 200);
                } else {
                    entry.target.classList.remove("visible");
                }
            });
        }, { threshold: 0.2 });

        reveals.forEach(el => observer.observe(el));
    });


    // Effet 3D dynamique
    const services = document.querySelectorAll(".service");

    services.forEach(service => {
        service.addEventListener("mousemove", (e) => {
            const rect = service.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const cx = rect.width / 2;
            const cy = rect.height / 2;

            const rotateX = ((y - cy) / cy) * 15;
            const rotateY = ((x - cx) / cx) * 15;

            service.style.transform = `translateY(-10px) rotateX(${-rotateX}deg) rotateY(${rotateY}deg)`;
            service.style.boxShadow = `${-rotateY * 3}px ${rotateX * 3}px 50px rgba(0,0,0,0.4)`;

            const content = service.querySelector(".service-content");
            content.style.transform = `translateX(${rotateY / 4}px) translateY(${-rotateX / 4}px)`;
        });

        service.addEventListener("mouseleave", () => {
            service.style.transform = "translateY(0) rotateX(0) rotateY(0)";
            service.style.boxShadow = "0 10px 20px rgba(0,0,0,0.2)";

            const content = service.querySelector(".service-content");
            content.style.transform = "translateX(0) translateY(0)";
        });
    });
</script>


<script> // JavaScript pour les temoignages
    document.addEventListener("DOMContentLoaded", () => {
        const rows = document.querySelectorAll(".testimonials-row");

        rows.forEach((row, index) => {
            const children = Array.from(row.children);
            const gap = 40;
            const originalWidth = children.reduce((total, el) => total + el.offsetWidth + gap, 0);

            row.innerHTML += row.innerHTML + row.innerHTML;

            if (index % 2 !== 0) row.style.flexDirection = "row-reverse";

            let scroll = 0;
            const speed = 0.3;

            function animate() {
                scroll += speed;

                if (scroll >= originalWidth) scroll = 0;

                row.style.transform = index % 2 === 0
                    ? `translateX(${-scroll}px)`
                    : `translateX(${scroll}px)`;

                requestAnimationFrame(animate);
            }

            animate();
        });
    });
</script>


<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script> // JavaScript pour les bourses
    const widgets = [
        { id: "chart_cac40", symbol: "INDEX:CAC40" },
        { id: "chart_dji", symbol: "DJI" },
        { id: "chart_nasdaq", symbol: "NASDAQ:IXIC" },
        { id: "chart_spx", symbol: "SPX" },
        { id: "chart_dax", symbol: "INDEX:DAX" },
        { id: "chart_ftse", symbol: "FOREXCOM:UKXGBP" },
        { id: "chart_nikkei", symbol: "INDEX:NKY" },
        { id: "chart_hsi", symbol: "INDEX:HSI" }
    ];

    widgets.forEach(w => {
        new TradingView.widget({
            "container_id": w.id,
            "autosize": true,
            "symbol": w.symbol,
            "interval": "D",
            "dateRange": "1M",
            "hideDateRanges": true,
            "timezone": "Europe/Paris",
            "theme": "light",
            "style": "1",
            "hide_top_toolbar": true,
            "hide_legend": true,
            "withdateranges": false,
            "save_image": false,
            "locale": "fr",
            "width": "100%",
            "height": "220"
        });
    });

    // Scroll manuel avec flèches
    const row = document.getElementById('markets-row');
    document.getElementById('scroll-left').addEventListener('click', () => {
        row.scrollBy({ left: -400, behavior: 'smooth' });
    });
    document.getElementById('scroll-right').addEventListener('click', () => {
        row.scrollBy({ left: 400, behavior: 'smooth' });
    });
</script>